<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
	<link rel="stylesheet" href="en/style/main.css">
	<script src="en/script/main.js" type="text/javascript"></script>
</head>
<body>
	<h2>service workerdfsafsa</h2>
	<img src="en/image/ban1.jpg"/>
	<script>
		if('serviceWorker' in navigator ){
			window.addEventListener('load',function() { 
				navigator.serviceWorker.register('sw.js',{scope:'./'}).then(function(registration){
					if(registration.installing){
						serviceWorker = registration.installing;
						console.log("installing")
					}else if(registration.waiting){
						serviceWorker = registration.waiting;
						console.log("waiting");
					}else if(registration.active){
						serviceWorker = registration.active;
						console.log("actived");
					}
					if(serviceWorker){
						serviceWorker.addEventListener('statechange',function(e){
							console.log(e.target.state);
						})
					}
					console.log('serviceWorker registration successful with scope',registration.scope);
				}).catch(function(err) {
					console.log('serviceWorker registration failed',err);	 
				})
			})
		}else{
			 console.log('Browser not support Service Worker.');
		}

	</script>
</body>
</html>